<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Interactive Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet/dist/leaflet.css"
  />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, Helvetica, sans-serif;
      background: #0b1c24;
      color: #e6f1f5;
    }

    #container {
      display: flex;
      height: 100%;
      width: 100%;
    }

    #map {
      flex: 3;
      background: #000;
    }

    #info-panel {
      flex: 1;
      padding: 20px;
      background: #102a36;
      border-left: 2px solid #1e4657;
      overflow-y: auto;
    }

    #info-panel h2 {
      margin-top: 0;
      font-size: 1.6rem;
    }

    #info-panel p {
      line-height: 1.5;
      opacity: 0.95;
    }

    .hint {
      opacity: 0.6;
      font-style: italic;
      margin-top: 40px;
    }

    .leaflet-popup-content-wrapper {
      background: #102a36;
      color: #e6f1f5;
    }

    .leaflet-popup-tip {
      background: #102a36;
    }
  </style>
</head>
<body>
  <div id="container">
    <div id="map"></div>
    <div id="info-panel">
      <h2>Map Information</h2>
      <p>Select a city or town on the map to view details.</p>
      <p class="hint">This panel can contain lore, history, characters, or political influence.</p>
    </div>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <script>
    // --- MAP SETUP ---
    const map = L.map('map', {
      crs: L.CRS.Simple,
      minZoom: -2,
      maxZoom: 2,
      zoomControl: true
    });

    const imageWidth = 5614;  // adjust if needed
    const imageHeight = 7122; // adjust if needed
    const imageBounds = [[0, 0], [imageHeight, imageWidth]];

    // Use your Imageshack direct link
    const imageURL = 'https://imagizer.imageshack.com/img923/4131/ufv3V4.png';
    const image = L.imageOverlay(imageURL, imageBounds).addTo(map);

    map.fitBounds(imageBounds);

    // --- CITY / TOWN DATA ---
    const locations = [
      { name: 'Redwood', coords: [3500, 1500], description: 'Centeral City in Redwood', extra: 'THE DISTRICTS OF REDWOOD', extra2: 'EXGATE — THE CITY’S HEARTBEAT', extra3: 'Exgate is Redwood’s central district: lively, historic, and distinctly middle-class. It grew from a market town absorbed into the city centuries ago, and it still carries that identity — tightly packed Georgian shopfronts, narrow streets, and a busy mix of cafés, trades, and small businesses.', extra4: 'Brick & Basil, the family-run pizza shop around which the series revolves, sits here among the crooked roofs and stone façades. Exgate represents the everyday Redwood resident: hardworking, community-minded, proud of its history but practical about its future.', extra5: 'Running through Exgate is one of Redwood’s defining features — a grand medieval bridge that rises right out of the shops and carries the city’s foot traffic into the Old Town. From below, the bridge cuts through buildings the way centuries of development tend to do: imperfectly but beautifully.', extra6: 'a', },

      { name: 'York', coords: [4550, 1000], description: 'test.', extra: 'test' },
      { name: 'Hull', coords: [3900, 3300], description: 'test', extra: 'test' }
    ];

    // --- INFO PANEL UPDATE ---
    function updateInfoPanel(location) {
      document.getElementById('info-panel').innerHTML = `
        <h2>${location.name}</h2>
        <p>${location.description}</p>
        <p><strong>${location.extra}</strong></p>
        <p><strong>${location.extra2}</strong></p>
        <p><strong>${location.extra3}</strong></p>
        <p><strong>${location.extra4}</strong></p>
        <p><strong>${location.extra5}</strong></p>
        <p><strong>${location.extra6}</strong></p>
      `;
    }

    // --- ADD MARKERS ---
    locations.forEach(loc => {
      const marker = L.circleMarker(loc.coords, {
        radius: 7,
        color: '#ffffff',
        weight: 2,
        fillColor: '#ff6b6b',
        fillOpacity: 0.9
      }).addTo(map);

      marker.on('click', () => {
        map.flyTo(loc.coords, 1.2, { duration: 1.2 });
        updateInfoPanel(loc);
      });
    });
  </script>
</body>
</html>
